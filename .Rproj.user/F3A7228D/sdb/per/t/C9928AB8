{
    "collab_server" : "",
    "contents" : "---\ntitle: \"外國人來台灣數量及外配分析\"\noutput: github_document\n---\n\n##題目\n外國人來台灣數量及外配分析\n\n\n##資料介紹與來源\nhttp://admin.taiwan.net.tw/statistics/year.aspx?no=134\n\n\n##格式\n全部都是以csv.檔案\n\n\n##分析議題\n隨著兩岸通婚及異國婚姻的開放政策，帶來了許多外籍新娘，也造就了許多的「新台灣之子」。根據內政部統計資料顯示，依據內政部統計資料顯示，自105年結婚登記對數中，新郎及新娘均為我國籍者占86.2％，中外聯姻占13.8％。外籍與大陸、港澳配偶中，大陸地區者占42.6％最多，東南亞國籍者占34.9％次之，其他國籍者占16.9％。 為數不少的外籍配偶絕大多數來自東南亞國家，今後亦將持續成長，外籍配偶及其婚配之下一代成為台灣社會第五大族群。\n\n\n\n## 分析動機\n台灣是觀光勝地，想了解那些世界各國來台灣，找出前10名，找出與台灣密切往來的國家，並了解\n在地球村的時代，哪一國人最常來台灣呢，來台灣又是因為哪些目的呢?\n想知道台灣外籍配偶新住民與外國人來台目的的關係 !以欲探究外籍配偶在台之種種現況。\n台灣是觀光勝地，想了解那些世界各國來台灣，找出前10名，找出與台灣密切往來的國家，並了解其目的，分析目的主要原因為何?例如：業務、觀光、探親、會議、求學、展覽、醫療……等等。\n\n\n\n##假設\n假設來台國家中國人會占大部分，第2~10名人數差不多，東南亞國家泰國、印尼、越南因為外籍配偶及外籍勞工的關係，推測為2~4名，假設排名中間為台灣往來頻繁的日本韓國，與台灣人交流較多，且地理位置相近。\n\n\n##組員名單與分工\n組員：B0344126鄭筠臻、B0344129葉亞萱\n分工：\n鄭筠臻：收集資料、coding、投影片、上台報告\n葉亞萱：coding、想法、假設、投影片、上台報告\n\n\n載入使用資料們\n```{r}\nlibrary(readr)\ncountry<- read_csv(\"C:/Users/X550LD/Desktop/visitor arrivals (2003-2016).csv\")\nView(country)\ncountry$X1<-\n  iconv(country$X1,\n        from=\"big5\", to = \"UTF-8\")\n\nlibrary(readr)\npurpose_2016 <- read_csv(\"C:/Users/X550LD/Desktop/visitor arrivals by purpose(2016) .csv\")\nView(purpose_2016)\n\npurpose_2016$Residence<-\n  iconv(purpose_2016$Residence,\n        from=\"big5\", to = \"UTF-8\")\n\n```\n\n## 來台國家及人數假設:\n來台國家中國人會占大部分，第2~10名人數差不多，東南亞國家泰國、印尼、越南因為外籍配偶及外籍勞工的關係，推測為前段排名，中段排名假設為日本及韓國，與台灣人交流較多，且地理位置相近，後半排名為美國及印度、澳洲、德國。\n\n\n```{r}\nlibrary(readr)\ncountrycode <- read_csv(\"C:/Users/X550LD/Desktop/Code.csv\")\nView(countrycode)\ncountrycode$Residence<-\n  iconv(countrycode$Residence,\n        from=\"big5\", to = \"UTF-8\")\n\nlibrary(dplyr)\npurpose_2016_code<-inner_join(purpose_2016,countrycode, by = \"Residence\")\n\nlibrary(treemap)\ndata(purpose_2016_code)\ntreemap(purpose_2016_code,\n       index=c(\"code\"), \n       vSize=\"Total\", \n       vColor=\"Total\", \n       type=\"value\")\n\nlibrary(knitr)\nknitr::kable(\n  purpose_2016_code[1:10,1:2])\n\n```\n## 結果分析:\n結果與假設\n一致：中國大陸佔來台人數佔了整體超過一半\n不一致：前段排名為日本、韓國、馬來西亞\n不一致：中後段排名為新加坡、印尼、菲律賓、泰國、越南及美國\n不一致：日本韓國來台人數比東南亞國家印尼、泰國還多出許多\n\n\n##來台目的假設:\n業務 Business:印尼，外籍勞工\n觀光 Pleasure:中國大陸，小三通及政府政策\n探親 VisitRelatives:中國大陸，政府遷台時許多家族分別兩岸\n會議 Conference: 美國，商業合作\n求學 Study: 印尼，長庚許多印尼學生\n展覽 Exhibition: 日本，動漫展\n醫療 MedicalTreatment: 新加坡\n\n```{r}\ncountry10<-head(country[order(country$X_2016,decreasing = T),],10)\ncountry10<-subset(country10,select = c(X1,X_2016))\nlibrary(dplyr)\ntop10<-inner_join(country10,purpose_2016_code,c(\"X1\"=\"Residence\"))\n\nlibrary(knitr)\nknitr::kable(\n  top10[1:10,])\n\ntop10$Total<-as.double(top10$Total)\ntop10$Business<-as.double(top10$Business)\ntop10$Pleasure<-as.double(top10$Pleasure)\ntop10$VisitRelatives<-as.double(top10$VisitRelatives)\ntop10$Conference<-as.double(top10$Conference)\ntop10$Study<-as.double(top10$Study)\ntop10$Exhibition<-as.double(top10$Exhibition)\ntop10$MedicalTreatment<-as.double(top10$MedicalTreatment)\ntop10$Others<-as.double(top10$Others)\n\ntop10$\"Percentage of Business\"<-top10$Business/top10$Total*100\ntop10$\"Percentage of Pleasure\"<-top10$Pleasure/top10$Total*100\ntop10$\"Percentage of VisitRelatives\"<-top10$VisitRelatives/top10$Total*100\ntop10$\"Percentage of Conference\"<-top10$Conference/top10$Total*100\ntop10$\"Percentage of Study\"<-top10$Study/top10$Total*100\ntop10$\"Percentage of Exhibition\"<-top10$Exhibition/top10$Total*100\ntop10$\"Percentage of MedicalTreatment\"<-top10$MedicalTreatment/top10$Total*100\ntop10$\"Percentage of Others\"<-top10$Others/top10$Total*100\ntop10$\"Country\"<-top10$'X1'\n\ntop10_purpose<-subset(top10,select = \n                        c(\"code\",\"Percentage of Business\",\"Percentage of Pleasure\",\"Percentage of VisitRelatives\",\"Percentage of Conference\",\"Percentage of Study\",\"Percentage of Exhibition\",\"Percentage of MedicalTreatment\",\"Percentage of Others\"))\nlibrary(knitr)\nknitr::kable(\n  top10_purpose[1:10,])\n\nlibrary(dplyr) \nlibrary(ggplot2)\nqplot(code, top10$\"Percentage of Business\", \n      data=top10_purpose,color=code,\n      main = \"Percentage of Business\",\n      geom = c(\"point\", \"smooth\"))\nqplot(code, top10$\"Percentage of Pleasure\", data=top10_purpose,color=code,\n      main = \"Percentage of Pleasure\",\n      geom = c(\"point\", \"smooth\"))\nqplot(code, top10$\"Percentage of VisitRelatives\", data=top10_purpose,color=code,\n      main = \"Percentage of VisitRelatives\",\n      geom = c(\"point\", \"smooth\"))\nqplot(code, top10$\"Percentage of Conference\", data=top10_purpose,color=code,\n      main = \"Percentage of Conference\",\n      geom = c(\"point\", \"smooth\"))\nqplot(code, top10$\"Percentage of Study\", data=top10_purpose,color=code,\n      main = \"Percentage of Study\",\n      geom = c(\"point\", \"smooth\"))\nqplot(code, top10$\"Percentage of Exhibition\", data=top10_purpose,color=code,\n      main = \"Percentage of Exhibition\",\n      geom = c(\"point\", \"smooth\"))\nqplot(code, top10$\"Percentage of MedicalTreatment\", data=top10_purpose,color=code,\n      main = \"Percentage of MedicalTreatment\",\n      geom = c(\"point\", \"smooth\"))\nqplot(code, top10$\"Percentage of Others\", data=top10_purpose,color=code,\n      main = \"Percentage of Others\",\n      geom = c(\"point\", \"smooth\"))\n\n```\n\n## 結果分析:\n結果與假設\n一致：業務 Business:美國，台灣與美國商務上的往來密切\n一致：觀光 Pleasure:中國大陸\n不一致：探親 VisitRelatives:美國，早期台灣人移民美國潮\n不一致：會議 Conference:菲律賓，台灣廠商海外投資布局\n一致：求學 Study: 印尼\n不一致：展覽 Exhibition: 泰國\n不一致：醫療 MedicalTreatment: 中國大陸，台灣醫療進步\n\n```{r}\ntop10_purpose<-subset(top10,select = \n                        c(\"code\",\"Business\",\"Pleasure\",\"VisitRelatives\",\"Conference\",\"Study\",\"Exhibition\",\"MedicalTreatment\",\"Others\"))\nhead(top10_purpose,10)\nlibrary(reshape2)\n\ntop10.m <- melt(top10_purpose,id.vars = \"code\") \nhead(top10.m,10)\nlibrary(ggplot2)\n\nlibrary(dplyr)\ntop10.s<-top10_purpose %>% \n    mutate_each(funs(scale), -code) \nhead(top10.s,2)\ntop10.s.m <- melt(top10.s)\nggplot(top10.s.m, aes(variable, code)) + \n    geom_tile(aes(fill = value),\n              colour = \"#E6E6FA\")+ \n    scale_fill_gradient(\n        low = \"#FFB6C1\",high =\"#DC143C\")\n\n```\n\n與上一個目的分析結果一樣，用Heatmap呈現\n\n\n##來台性別比假設:\n男性較多:中國，一胎化男性比女性人數多很多\n女性較多:越南，台灣男性喜歡娶越南籍配偶\n\n```{r}\nlibrary(readr)\nsex_2016<- read_csv(\"C:/Users/X550LD/Desktop/visitor arrivals by sex(2016) .csv\")\nView(sex_2016)\nsex_2016$Residence<-\n  iconv(sex_2016$Residence,\n        from=\"big5\", to = \"UTF-8\")\ntop10_male_female<- \n  head(sex_2016[order(sex_2016$Total,decreasing = T),],10)\nlibrary(dplyr)\ntop10_male_female_code<-inner_join(countrycode,top10_male_female,by=\"Residence\")\nlibrary(knitr)\nknitr::kable(\n  top10_male_female_code[1:10,])\nlibrary(ggplot2)\nqplotmale<-\n  qplot(x=code,                      \n      data=top10_male_female_code,              \n      geom=\"bar\",             \n      main = \"visitor arrivals by sex(male) \",  \n      xlab=\"code\",  \n      ylab = \"Male\",\n      fill= `M_Share(%)`)\nqplotmale\nlibrary(ggplot2)\nqplotfemale<- \n  qplot(x=code,                      \n      data=top10_male_female_code,              \n      geom=\"bar\",             \n      main = \"visitor arrivals by sex(female) \",  \n      xlab=\"code\",\n      ylab = \"Female\",\n      fill=`F_Share(%)`)\nqplotfemale\n\n```\n\n##結果分析:\n與假設不一致：男性較多:日本、美國，台灣與美國商務上的往來密切\n與假設不一致：女性較多:印尼、韓國、中國、菲律賓、泰國、越南\n\n\n##中國人來台目的假設:\n觀光最多，醫療醫美次要(上一題分析中提到)，再來是業務交流\n##外籍配偶國家假設:\n越南、印尼、菲律賓、泰國、馬來西亞(娶東南亞籍配偶很常見)\n\n```{r}\nlibrary(readr)\nreason <- read_csv(\"C:/Users/X550LD/Desktop/reason.csv\")\nView(reason)\nlibrary(data.table)\nreason<-data.table(reason)\nreason<-head(reason[order(reason$immigration_total,decreasing = T),],13)\nreason<-subset(reason,select = c(abc,immigration_total))\nlibrary(knitr)\nknitr::kable(\n  reason[1:13,])\nclassification<-reason[grepl('合計',abc)]\nlibrary(knitr)\nknitr::kable(\n  classification[1:3,])\nlibrary(readr)\nforeign_spouse <- read_csv(\"C:/Users/X550LD/Desktop/foreign_spouse.csv\")\nView(foreign_spouse)\nforeign_spouse$'total105'<-as.numeric(foreign_spouse$'total105')\nforeign_spouse<-head(foreign_spouse[order(foreign_spouse$'total105',decreasing = T),],5)\nforeign_spouse<-subset(foreign_spouse,select = c('X1','total105','boy105','girl105'))\nlibrary(knitr)\nknitr::kable(\n  foreign_spouse[1:5,])\n\nlibrary(ggplot2) \nqplot(boy105,girl105, \n      data = foreign_spouse)\n\nlibrary(ggplot2)\nggplot(data=reason) +   \n  geom_point(aes(x=abc, \n                 y=immigration_total,\n                 main=\"中國人來台原因\",\n                 color=abc,\n                 size=5)) + \n  labs(title=\"中國人來台原因\",\n       x=\"原因\",\n       y=\"人數\") + theme_bw()\nggplot(data=foreign_spouse) +   \n  geom_point(aes(x=X1, \n                 y=total105,\n                 main=\"105外籍配偶\",\n                 color=X1,\n                 size=5)) + \n  labs(title=\"105外籍配偶\",\n       x=\"國家\",\n       y=\"人數\") + theme_bw()\n```\n\n##結果分析:\n與假設結果\n一致：觀光人數最多\n不一致：次要為專業交流，藝文交流、運動 \n不一致：再來為研修生 \n不一致：再來才是健檢醫美\n\n\n##結果分析:\n與假設結果相似:前五名為越南、印尼、泰國、菲律賓、馬來西亞\n\n\n##分析結果可能解決的問題\n這些外籍配偶大都是經濟弱勢及教育文化弱勢的族群，他們往往缺乏專業知識及社會資源的使用能力，透過台灣外籍配偶前五名越南、印尼、泰國、菲律賓、馬來西亞，可以根據排名作語言資源分配，來協助這些新住民。",
    "created" : 1497409146451.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3124708849",
    "id" : "C9928AB8",
    "lastKnownWriteTime" : 1498034251,
    "last_content_update" : 1498034251861,
    "path" : "~/GitHub/CGUIM_BigData_HW6-b034412926/README.Rmd",
    "project_path" : "README.Rmd",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}